/* シンプルなカードと演出 */
.form-input { width: 100%; padding: 0.5rem 0.75rem; border-radius: 0.5rem; background: #111827 !important; border: 1px solid #1f2937 !important; color: #e5e7eb; }
.form-input::placeholder { color: #94a3b8; }
.form-input:focus { outline: none; box-shadow: 0 0 0 3px rgba(59,130,246,0.35) !important; border-color: #3b82f6 !important; }
.save-button { padding: 0.5rem 1rem; border-radius: 0.5rem; background: #3b82f6; color: #fff; font-weight: 700; letter-spacing: .2px; transition: background .2s ease; box-shadow: 0 8px 22px rgba(59,130,246,0.35); }
.save-button:hover { background: #1d4ed8; }
.mini-card { border-radius: 0.5rem; background: #0f172a !important; border: 1px solid #1f2937 !important; padding: 0.4rem 0.5rem; box-shadow: 0 1px 2px rgba(0,0,0,0.3); color:#e2e8f0; }

.levelup-overlay {
  position: fixed; inset: 0; display: flex; align-items: center; justify-content: center;
  background: rgba(0,0,0,0.25); z-index: 50;
}
.levelup-modal {
  position: relative; background: white; padding: 24px 32px; border-radius: 16px; text-align: center;
  box-shadow: 0 10px 30px rgba(0,0,0,0.2);
  animation: pop 400ms ease-out;
}
.levelup-modal-large { padding: 32px 40px; border: 3px solid #2563eb; }
.levelup-confetti::before, .levelup-confetti::after {
  content: ""; position: absolute; inset: -40px; pointer-events: none;
  background: radial-gradient(circle, rgba(255,0,0,.7) 20%, transparent 21%) 0 0/16px 16px,
              radial-gradient(circle, rgba(0,150,255,.7) 20%, transparent 21%) 8px 8px/16px 16px,
              radial-gradient(circle, rgba(255,200,0,.7) 20%, transparent 21%) 0 8px/16px 16px,
              radial-gradient(circle, rgba(0,200,120,.7) 20%, transparent 21%) 8px 0/16px 16px;
  opacity: .7;
  animation: confetti 1200ms ease-out both;
}
.levelup-confetti-large::before, .levelup-confetti-large::after { inset: -60px; animation-duration: 1800ms; }
@keyframes pop { from { transform: scale(.9); opacity:.0 } to { transform: scale(1); opacity:1 } }
@keyframes confetti { from { transform: translateY(-20px); opacity:0 } to { transform: translateY(0); opacity:.9 } }

.hidden { display: none; }

/* 微アニメ（穏やかな鼓動） */
.animate-pulse-soft { animation: pulseSoft 1.8s ease-in-out infinite; }
@keyframes pulseSoft {
  0%,100% { transform: translateZ(0) scale(1); box-shadow: 0 0 0 rgba(37,99,235,0); }
  50% { transform: translateZ(0) scale(1.02); box-shadow: 0 0 0 6px rgba(37,99,235,0.12); }
}

/* --- ホーム用フィットネスウィジェットの視認性強化 --- */
#fitnessWidget.washi-card { 
  background: #1f2937 !important; 
  border: 1px solid #334155 !important; 
  box-shadow: 0 20px 44px rgba(0,0,0,0.45) !important; 
}
#fitnessWidget * { 
  box-shadow: initial !important; 
}
#fitnessWidget h3 { color: #f8fafc; letter-spacing: .2px; font-weight: 700; }
#fitnessWidget #wForm { background: transparent !important; border-radius: 12px; }
#fitnessWidget #wCalendarGrid button { 
  background: #0f172a !important; 
  border: 1px solid #1f2937 !important; 
  transition: transform .12s ease, background .12s ease;
  min-height: 44px;
}
#fitnessWidget #wCalendarGrid button:hover { transform: translateY(-1px); background: #111827 !important; }
#fitnessWidget #wCalSummary { background: #0f172a !important; border: 1px solid #1f2937 !important; border-radius: 8px; padding: 8px; color:#e2e8f0; }
#fitnessWidget #wDayDetail > div { background: #0f172a !important; border: 1px solid #1f2937 !important; }
#fitnessWidget .text-gray-600 { color: #cbd5e1 !important; }
#fitnessWidget .text-gray-700 { color: #e2e8f0 !important; }
#fitnessWidget .text-gray-800 { color: #f1f5f9 !important; }
#fitnessWidget .segmented { display: grid; grid-template-columns: repeat(3,1fr); gap: 8px; }
#fitnessWidget .seg-btn { 
  background: #0f172a; color: #e2e8f0; border: 1px solid #1f2937; border-radius: 10px; padding: 10px 12px; font-weight: 600; 
}
#fitnessWidget .seg-btn[aria-selected="true"], #fitnessWidget .seg-btn.active { 
  background: #3b82f6; color: #fff; border-color: #60a5fa; box-shadow: 0 8px 22px rgba(59,130,246,0.35);
}

#fitnessWidget .quick-btn { 
  display: inline-flex; align-items: center; justify-content: center; 
  background: #0f172a; color: #e2e8f0; border: 1px solid #1f2937; border-radius: 10px; padding: 10px 12px; min-height: 44px;
}
#fitnessWidget .quick-btn:hover { background: #111827; }
#fitnessWidget .quick-btn.alt { background: transparent; color: #e2e8f0; }

@media (max-width: 640px) {
  #fitnessWidget .form-input { padding: 0.75rem 1rem; font-size: 16px; } /* iOSズーム抑止 */
  #fitnessWidget .quick-btn { flex: 1 1 0; }
}

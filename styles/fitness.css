/* シンプルなカードと演出 */
.form-input { width: 100%; padding: 0.75rem 1rem; border-radius: 0.6rem; background: #ffffff !important; border: 1px solid #cbd5e1 !important; color: #111111; font-size: 16px; }
.form-input::placeholder { color: #6b7280; }
.form-input:focus { outline: none; box-shadow: 0 0 0 3px rgba(37,99,235,0.25) !important; border-color: #2563eb !important; }
.save-button { padding: 0.75rem 1rem; border-radius: 0.6rem; background: #2563eb; color: #111111; font-weight: 700; letter-spacing: .2px; transition: background .2s ease; box-shadow: 0 8px 22px rgba(37,99,235,0.25); }
.save-button:hover { background: #1d4ed8; }
.mini-card { border-radius: 0.6rem; background: #f3f4f6 !important; border: 1px solid #d1d5db !important; padding: 0.5rem 0.6rem; box-shadow: 0 1px 2px rgba(0,0,0,0.05); color:#111111; }

.levelup-overlay {
  position: fixed; inset: 0; display: flex; align-items: center; justify-content: center;
  background: rgba(0,0,0,0.25); z-index: 50;
}
.levelup-modal {
  position: relative; background: white; padding: 24px 32px; border-radius: 16px; text-align: center;
  box-shadow: 0 10px 30px rgba(0,0,0,0.2);
  animation: pop 400ms ease-out;
}
.levelup-modal-large { padding: 32px 40px; border: 3px solid #2563eb; }
.levelup-confetti::before, .levelup-confetti::after {
  content: ""; position: absolute; inset: -40px; pointer-events: none;
  background: radial-gradient(circle, rgba(255,0,0,.7) 20%, transparent 21%) 0 0/16px 16px,
              radial-gradient(circle, rgba(0,150,255,.7) 20%, transparent 21%) 8px 8px/16px 16px,
              radial-gradient(circle, rgba(255,200,0,.7) 20%, transparent 21%) 0 8px/16px 16px,
              radial-gradient(circle, rgba(0,200,120,.7) 20%, transparent 21%) 8px 0/16px 16px;
  opacity: .7;
  animation: confetti 1200ms ease-out both;
}
.levelup-confetti-large::before, .levelup-confetti-large::after { inset: -60px; animation-duration: 1800ms; }
@keyframes pop { from { transform: scale(.9); opacity:.0 } to { transform: scale(1); opacity:1 } }
@keyframes confetti { from { transform: translateY(-20px); opacity:0 } to { transform: translateY(0); opacity:.9 } }

.hidden { display: none; }

/* 微アニメ（穏やかな鼓動） */
.animate-pulse-soft { animation: pulseSoft 1.8s ease-in-out infinite; }
@keyframes pulseSoft {
  0%,100% { transform: translateZ(0) scale(1); box-shadow: 0 0 0 rgba(37,99,235,0); }
  50% { transform: translateZ(0) scale(1.02); box-shadow: 0 0 0 6px rgba(37,99,235,0.12); }
}

/* --- ホーム用フィットネスウィジェットの視認性強化 --- */
#fitnessWidget.washi-card { 
  background: #e5e7eb !important; /* しっかりした灰色 */
  border: 1px solid #cbd5e1 !important; 
  box-shadow: 0 16px 36px rgba(0,0,0,0.18) !important; 
}
#fitnessWidget * { 
  box-shadow: initial !important; 
}
#fitnessWidget h3 { color: #111111; letter-spacing: .2px; font-weight: 700; }
#fitnessWidget #wForm { background: transparent !important; border-radius: 12px; }
#fitnessWidget #wCalendarGrid button { 
  background: #ffffff !important; 
  border: 1px solid #d1d5db !important; 
  transition: transform .12s ease, background .12s ease;
  min-height: 44px;
}
#fitnessWidget #wCalendarGrid button:hover { transform: translateY(-1px); background: #f8fafc !important; }
#fitnessWidget #wCalSummary { background: #f3f4f6 !important; border: 1px solid #d1d5db !important; border-radius: 8px; padding: 8px; color:#111111; }
#fitnessWidget #wDayDetail > div { background: #ffffff !important; border: 1px solid #d1d5db !important; color:#111111; }
#fitnessWidget .text-gray-600, #fitnessWidget .text-gray-700, #fitnessWidget .text-gray-800 { color: #111111 !important; }
#fitnessWidget .segmented { display: grid; grid-template-columns: repeat(3,1fr); gap: 10px; }
#fitnessWidget .seg-btn { 
  background: #ffffff; color: #111111; border: 1px solid #cbd5e1; border-radius: 12px; padding: 12px 14px; font-weight: 700; 
}
#fitnessWidget .seg-btn[aria-selected="true"], #fitnessWidget .seg-btn.active { 
  background: #dbeafe; color: #111111; border-color: #60a5fa; box-shadow: 0 6px 18px rgba(59,130,246,0.25);
}

#fitnessWidget .quick-btn { 
  display: inline-flex; align-items: center; justify-content: center; 
  background: #ffffff; color: #111111; border: 1px solid #cbd5e1; border-radius: 12px; padding: 12px 14px; min-height: 44px;
}
#fitnessWidget .quick-btn:hover { background: #f8fafc; }
#fitnessWidget .quick-btn.alt { background: #ffffff; color: #111111; }

/* セクション見出し（■） */
#fitnessWidget .section-title { font-weight: 800; color: #111111; margin: 10px 0 6px; letter-spacing: .2px; }

@media (max-width: 640px) {
  #fitnessWidget .form-input { padding: 0.75rem 1rem; font-size: 16px; } /* iOSズーム抑止 */
  #fitnessWidget .quick-btn { flex: 1 1 0; }
}

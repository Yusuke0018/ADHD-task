/* シンプルなカードと演出 */
.form-input { width: 100%; padding: 0.8rem 1rem; border-radius: 12px; background: linear-gradient(145deg, rgba(255,255,255,0.9), rgba(240,249,255,0.85)) !important; border: 1px solid rgba(147,197,253,0.7) !important; color: #0f172a; font-size: 16px; backdrop-filter: blur(6px); }
.form-input::placeholder { color: #64748b; }
.form-input:focus { outline: none; box-shadow: 0 0 0 4px rgba(59,130,246,0.25) !important; border-color: #3b82f6 !important; }
.save-button { padding: 0.9rem 1rem; border-radius: 14px; background: linear-gradient(135deg, #22d3ee, #4f46e5); color: #ffffff; font-weight: 800; letter-spacing: .3px; transition: transform .15s ease, filter .15s ease; box-shadow: 0 12px 30px rgba(79,70,229,0.35), 0 0 0 2px rgba(34,211,238,0.15) inset; }
.save-button:hover { filter: brightness(1.05); transform: translateY(-1px); }
.mini-card { border-radius: 12px; background: linear-gradient(145deg, rgba(248,250,252,0.9), rgba(241,245,249,0.9)) !important; border: 1px solid rgba(203,213,225,0.9) !important; padding: 0.6rem 0.7rem; box-shadow: 0 1px 2px rgba(15,23,42,0.06); color:#0f172a; }

/* --- ハイテンション入力 UI --- */
.seg-big {
  background: #ffffff; color: #111111; border: 1px solid #cbd5e1; border-radius: 12px; padding: 12px 14px; font-weight: 800; letter-spacing: .2px;
}
.seg-big[aria-selected="true"], .seg-big.active { background: #dbeafe; border-color: #60a5fa; box-shadow: 0 6px 18px rgba(59,130,246,0.25); }
.chip { background: linear-gradient(135deg, #ffffff, #eff6ff); color:#0f172a; border: 1px solid #cbd5e1; border-radius: 9999px; padding: 10px 12px; font-weight: 800; text-align:center; box-shadow: 0 6px 16px rgba(2,6,23,0.08); }
.chip.alt { background: linear-gradient(135deg, #f0f9ff, #ecfeff); }
.stepper { width: 48px; height: 48px; border-radius: 14px; background: linear-gradient(135deg, #ffffff, #f8fafc); border:1px solid #cbd5e1; font-size: 18px; font-weight: 900; color:#0f172a; box-shadow: 0 8px 18px rgba(15,23,42,0.12); }
.combo { background: #eef2ff; color:#1e3a8a; border:1px solid #c7d2fe; border-radius: 12px; padding: 10px; font-weight: 700; text-align:center; }

.levelup-overlay {
  position: fixed; inset: 0; display: flex; align-items: center; justify-content: center;
  background: rgba(0,0,0,0.25); z-index: 50;
}
.levelup-modal {
  position: relative; background: white; padding: 24px 32px; border-radius: 16px; text-align: center;
  box-shadow: 0 10px 30px rgba(0,0,0,0.2);
  animation: pop 400ms ease-out;
}
.levelup-modal-large { padding: 32px 40px; border: 3px solid #2563eb; }
.levelup-confetti::before, .levelup-confetti::after {
  content: ""; position: absolute; inset: -40px; pointer-events: none;
  background: radial-gradient(circle, rgba(255,0,0,.7) 20%, transparent 21%) 0 0/16px 16px,
              radial-gradient(circle, rgba(0,150,255,.7) 20%, transparent 21%) 8px 8px/16px 16px,
              radial-gradient(circle, rgba(255,200,0,.7) 20%, transparent 21%) 0 8px/16px 16px,
              radial-gradient(circle, rgba(0,200,120,.7) 20%, transparent 21%) 8px 0/16px 16px;
  opacity: .7;
  animation: confetti 1200ms ease-out both;
}
.levelup-confetti-large::before, .levelup-confetti-large::after { inset: -60px; animation-duration: 1800ms; }
@keyframes pop { from { transform: scale(.9); opacity:.0 } to { transform: scale(1); opacity:1 } }
@keyframes confetti { from { transform: translateY(-20px); opacity:0 } to { transform: translateY(0); opacity:.9 } }

.hidden { display: none; }

/* 微アニメ（穏やかな鼓動） */
.animate-pulse-soft { animation: pulseSoft 1.8s ease-in-out infinite; }
@keyframes pulseSoft {
  0%,100% { transform: translateZ(0) scale(1); box-shadow: 0 0 0 rgba(37,99,235,0); }
  50% { transform: translateZ(0) scale(1.02); box-shadow: 0 0 0 6px rgba(37,99,235,0.12); }
}

/* --- ホーム用フィットネスウィジェットの視認性強化 --- */
#fitnessWidget.washi-card { 
  /* 未来的なグラスモーフィズム */
  background: linear-gradient(135deg, rgba(255,255,255,0.65), rgba(236,243,255,0.45)) !important;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(147, 197, 253, 0.45) !important; 
  box-shadow: 0 16px 36px rgba(30,58,138,0.16) !important; 
}
#fitnessWidget * { 
  box-shadow: initial !important; 
}
#fitnessWidget h3 { color: #111111; letter-spacing: .2px; font-weight: 700; }
#fitnessWidget #wForm { background: transparent !important; border-radius: 12px; }
#fitnessWidget #wCalendarGrid button { 
  background: #ffffff !important; 
  border: 1px solid #d1d5db !important; 
  transition: transform .12s ease, background .12s ease;
  min-height: 44px;
}
#fitnessWidget #wCalendarGrid button:hover { transform: translateY(-1px); background: #f8fafc !important; }
#fitnessWidget #wCalSummary { background: #f3f4f6 !important; border: 1px solid #d1d5db !important; border-radius: 8px; padding: 8px; color:#111111; }
#fitnessWidget #wDayDetail > div { background: #ffffff !important; border: 1px solid #d1d5db !important; color:#111111; }
#fitnessWidget .text-gray-600, #fitnessWidget .text-gray-700, #fitnessWidget .text-gray-800 { color: #111111 !important; }
#fitnessWidget .segmented { display: grid; grid-template-columns: repeat(3,1fr); gap: 10px; }
#fitnessWidget .seg-btn { 
  background: #ffffff; color: #111111; border: 1px solid #cbd5e1; border-radius: 12px; padding: 12px 14px; font-weight: 700; 
}
#fitnessWidget .seg-btn[aria-selected="true"], #fitnessWidget .seg-btn.active { 
  background: #dbeafe; color: #111111; border-color: #60a5fa; box-shadow: 0 6px 18px rgba(59,130,246,0.25);
}

#fitnessWidget .quick-btn { 
  display: inline-flex; align-items: center; justify-content: center; 
  background: #ffffff; color: #111111; border: 1px solid #cbd5e1; border-radius: 12px; padding: 12px 14px; min-height: 44px;
}
#fitnessWidget .quick-btn:hover { background: #f8fafc; }
#fitnessWidget .quick-btn.alt { background: #ffffff; color: #111111; }

/* セクション見出し（■） */
#fitnessWidget .section-title { font-weight: 800; color: #111111; margin: 10px 0 6px; letter-spacing: .2px; }

@media (max-width: 640px) {
  #fitnessWidget .form-input { padding: 0.75rem 1rem; font-size: 16px; } /* iOSズーム抑止 */
  #fitnessWidget .quick-btn { flex: 1 1 0; }
}

/* 汎用: 未来的UIピース */
.select-chip {
  display: inline-flex; align-items: center; justify-content: center;
  padding: 10px 14px; border-radius: 14px; width: auto; min-height: 44px;
  background: linear-gradient(135deg, rgba(255,255,255,0.75), rgba(224,242,254,0.55));
  border: 1px solid rgba(147,197,253,0.6);
  box-shadow: 0 8px 22px rgba(59,130,246,0.25);
  color: #0f172a; font-weight: 800; letter-spacing: .2px;
}
.type-menu { position: fixed; inset: 0; z-index: 60; }
.type-menu-backdrop { position: absolute; inset: 0; background: rgba(2,6,23,0.25); }
.type-sheet { position: absolute; left: 0; right: 0; bottom: 0; border-top-left-radius: 18px; border-top-right-radius: 18px; padding: 14px; background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.85)); border-top: 1px solid rgba(148,163,184,0.5); box-shadow: 0 -16px 30px rgba(15,23,42,0.12); }
.type-sheet-header { font-weight: 800; color: #0f172a; margin-bottom: 8px; }
.type-sheet-content { display: grid; grid-template-columns: 1fr; gap: 10px; }
.menu-item { background: #ffffff; border: 1px solid #cbd5e1; border-radius: 12px; padding: 12px 14px; font-weight: 700; color:#0f172a; }
.menu-item[aria-selected="true"], .menu-item.active { background: #e0f2fe; border-color: #60a5fa; box-shadow: 0 6px 18px rgba(59,130,246,0.25); }
.menu-close { margin-top: 10px; width: 100%; background: #0ea5e9; color: #ffffff; font-weight: 700; border-radius: 12px; padding: 10px 12px; }

/* ハイテンション入力カードも同系統に */
#fxTurbo.washi-card {
  background: linear-gradient(135deg, rgba(255,255,255,0.7), rgba(236,253,245,0.5)) !important;
  backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
  border: 1px solid rgba(134,239,172,0.45) !important;
  box-shadow: 0 16px 36px rgba(4,120,87,0.12) !important;
}
